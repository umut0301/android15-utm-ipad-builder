# ğŸ“Š ç¼–è¯‘çŠ¶æ€æ£€æŸ¥å·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ¯ å·¥å…·ç®€ä»‹

å½“æ‚¨çš„ SSH è¿æ¥ä¸­æ–­ã€ç³»ç»Ÿé‡å¯æˆ–ä¸ç¡®å®šç¼–è¯‘è¿›åº¦æ—¶ï¼Œä½¿ç”¨æ­¤å·¥å…·å¯ä»¥å¿«é€Ÿäº†è§£å½“å‰çŠ¶æ€ã€‚

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### åŸºæœ¬ç”¨æ³•

```bash
bash ~/android15-utm-ipad-builder/scripts/check-build-status.sh
```

### åˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰

```bash
# æ·»åŠ åˆ° ~/.bashrc
echo "alias build-status='bash ~/android15-utm-ipad-builder/scripts/check-build-status.sh'" >> ~/.bashrc
source ~/.bashrc

# ä¹‹ååªéœ€è¿è¡Œ
build-status
```

---

## ğŸ“‹ æ£€æŸ¥å†…å®¹

### 1. ç¼–è¯‘è¿›ç¨‹æ£€æŸ¥

æ£€æŸ¥æ˜¯å¦æœ‰æ­£åœ¨è¿è¡Œçš„ç¼–è¯‘è¿›ç¨‹ï¼ˆninjaï¼‰ï¼š

```
[æ£€æŸ¥] ç¼–è¯‘è¿›ç¨‹...
âœ“ å‘ç°ç¼–è¯‘è¿›ç¨‹ (PID: 12345)
  è¿›ç¨‹ä¿¡æ¯: 12345 02:30:15 ninja -j32
  CPU ä½¿ç”¨ç‡: 95.2%
```

**çŠ¶æ€è¯´æ˜**ï¼š
- âœ“ ç»¿è‰²å‹¾å· = ç¼–è¯‘æ­£åœ¨è¿›è¡Œ
- âœ— é»„è‰²å‰å· = æ²¡æœ‰ç¼–è¯‘è¿›ç¨‹

---

### 2. ç¼–è¯‘æ—¥å¿—æ£€æŸ¥

æŸ¥æ‰¾å¹¶åˆ†ææœ€æ–°çš„ç¼–è¯‘æ—¥å¿—ï¼š

```
[æ£€æŸ¥] ç¼–è¯‘æ—¥å¿—...
âœ“ æœ€æ–°æ—¥å¿—: build_20260127_085011.log
  æœ€åæ›´æ–°: 2026-01-27 09:00:56
  æ—¥å¿—å¤§å°: 15M

[æ—¥å¿—] æœ€å 10 è¡Œ:
----------------------------------------
  [100% 200470/200470] Target boot image: ...
  #### build completed successfully (02:30:15 (hh:mm:ss)) ####
----------------------------------------
âœ“ æ£€æµ‹åˆ°ç¼–è¯‘æˆåŠŸ
```

**çŠ¶æ€è¯´æ˜**ï¼š
- âœ“ ç¼–è¯‘æˆåŠŸ
- âœ— ç¼–è¯‘å¤±è´¥ï¼ˆä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼‰
- ? çŠ¶æ€æœªçŸ¥ï¼ˆç¼–è¯‘å¯èƒ½è¿˜åœ¨è¿›è¡Œï¼‰

---

### 3. ç¼–è¯‘äº§ç‰©æ£€æŸ¥

æ£€æŸ¥æ˜¯å¦ç”Ÿæˆäº†æœ€ç»ˆçš„ç¼–è¯‘äº§ç‰©ï¼š

```
[æ£€æŸ¥] ç¼–è¯‘äº§ç‰©...
âœ“ æ‰¾åˆ° UTM è™šæ‹ŸæœºåŒ…
  æ–‡ä»¶: UTM-VM-lineage-23.0-20260127-UNOFFICIAL-virtio_arm64.zip
  å¤§å°: 2.5G
  åˆ›å»ºæ—¶é—´: 2026-01-27 11:30:45
```

**çŠ¶æ€è¯´æ˜**ï¼š
- âœ“ æ‰¾åˆ° UTM è™šæ‹ŸæœºåŒ… = ç¼–è¯‘å®Œå…¨æˆåŠŸ
- âœ“ æ‰¾åˆ° LineageOS é•œåƒ = ç¼–è¯‘æˆåŠŸï¼ˆä½†å¯èƒ½ä¸æ˜¯ UTM æ ¼å¼ï¼‰
- ? æ‰¾åˆ°éƒ¨åˆ†ç¼–è¯‘äº§ç‰© = ç¼–è¯‘è¿›è¡Œä¸­æˆ–å¤±è´¥
- âœ— æœªæ‰¾åˆ°ç¼–è¯‘äº§ç‰© = ç¼–è¯‘æœªå¼€å§‹æˆ–å®Œå…¨å¤±è´¥

---

### 4. ä¿å­˜çš„çŠ¶æ€æ£€æŸ¥

æ£€æŸ¥æ™ºèƒ½è„šæœ¬ä¿å­˜çš„è¿›åº¦ä¿¡æ¯ï¼š

```
[æ£€æŸ¥] ä¿å­˜çš„è¿›åº¦çŠ¶æ€...
âœ“ æ‰¾åˆ°ä¿å­˜çš„çŠ¶æ€
  æœ€åå®Œæˆçš„æ­¥éª¤: 2
  ä¸Šæ¬¡è¿è¡Œæ—¶é—´: 2026-01-27 08:50:11
```

**è¯´æ˜**ï¼š
- æ­¥éª¤ 1 = ç¯å¢ƒå‡†å¤‡å®Œæˆ
- æ­¥éª¤ 2 = æºä»£ç åŒæ­¥å®Œæˆ
- æ­¥éª¤ 3 = ç¼–è¯‘æ„å»ºå®Œæˆ
- æ­¥éª¤ 4 = äº§ç‰©ä¼˜åŒ–å®Œæˆ

---

### 5. ccache çŠ¶æ€æ£€æŸ¥

æ£€æŸ¥ç¼–è¯‘ç¼“å­˜ç³»ç»Ÿçš„çŠ¶æ€ï¼š

```
[æ£€æŸ¥] ccache çŠ¶æ€...
âœ“ ccache å·²å®‰è£…

  ccache ç»Ÿè®¡:
    cache size          15.2 GB
    cache hit (direct)  12345
    cache miss          678
```

**å¸¸è§é—®é¢˜**ï¼š
- âœ— ccache ç›®å½•ä¸å­˜åœ¨ â†’ éœ€è¦ä¿®å¤
- ç¼“å­˜å‘½ä¸­ç‡ä½ â†’ é¦–æ¬¡ç¼–è¯‘æ­£å¸¸

---

## ğŸ’¡ æ ¹æ®ç»“æœé‡‡å–è¡ŒåŠ¨

### åœºæ™¯ 1: ç¼–è¯‘æ­£åœ¨è¿›è¡Œ

**æ˜¾ç¤º**ï¼š
```
âœ“ ç¼–è¯‘æ­£åœ¨è¿›è¡Œä¸­
å»ºè®®: ç­‰å¾…ç¼–è¯‘å®Œæˆï¼Œæˆ–ä½¿ç”¨ tmux attach æŸ¥çœ‹è¿›åº¦
```

**æ“ä½œ**ï¼š
```bash
# ç›‘æ§ç¼–è¯‘è¿›åº¦
watch -n 5 'tail -n 20 ~/android/build_*.log'

# æˆ–è€…é™„åŠ åˆ° tmux ä¼šè¯ï¼ˆå¦‚æœä½¿ç”¨äº† tmuxï¼‰
tmux attach -t android-build
```

---

### åœºæ™¯ 2: ä¸Šæ¬¡ç¼–è¯‘å¤±è´¥

**æ˜¾ç¤º**ï¼š
```
âœ— ä¸Šæ¬¡ç¼–è¯‘å¤±è´¥
å»ºè®®:
  1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
  2. ä¿®å¤ ccache
  3. é‡æ–°ç¼–è¯‘
```

**æ“ä½œ**ï¼š
```bash
# 1. æŸ¥çœ‹é”™è¯¯è¯¦æƒ…
tail -n 50 ~/android/build_*.log

# 2. ä¿®å¤ ccacheï¼ˆå¦‚æœæ˜¯ ccache é”™è¯¯ï¼‰
rm -rf ~/.ccache
mkdir -p ~/.ccache
ccache -M 50G

# 3. é‡æ–°è¿è¡Œç¼–è¯‘
bash ~/android15-utm-ipad-builder/scripts/03-build-android.sh
```

---

### åœºæ™¯ 3: ç¼–è¯‘å·²å®Œæˆ

**æ˜¾ç¤º**ï¼š
```
âœ“ ç¼–è¯‘å·²å®Œæˆ
äº§ç‰©ä½ç½®: ~/android/lineage/out/target/product/virtio_arm64/UTM/...
ä¸‹ä¸€æ­¥:
  1. ä¼˜åŒ–äº§ç‰©
  2. ä¼ è¾“åˆ° iPad
```

**æ“ä½œ**ï¼š
```bash
# 1. ä¼˜åŒ–ç¼–è¯‘äº§ç‰©
bash ~/android15-utm-ipad-builder/scripts/04-optimize-output.sh

# 2. ä¼ è¾“åˆ° iPad
bash ~/android15-utm-ipad-builder/scripts/05-transfer-to-ipad.sh
```

---

### åœºæ™¯ 4: ç¼–è¯‘çŠ¶æ€æœªçŸ¥

**æ˜¾ç¤º**ï¼š
```
? ç¼–è¯‘çŠ¶æ€æœªçŸ¥
å»ºè®®:
  1. æ£€æŸ¥æºä»£ç 
  2. è¿è¡Œæ™ºèƒ½è„šæœ¬
```

**æ“ä½œ**ï¼š
```bash
# 1. æ£€æŸ¥æºä»£ç æ˜¯å¦å­˜åœ¨
ls -lh ~/android/lineage

# 2. è¿è¡Œæ™ºèƒ½è„šæœ¬ï¼ˆä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä»åˆé€‚çš„æ­¥éª¤å¼€å§‹ï¼‰
bash ~/android15-utm-ipad-builder/scripts/00-auto-build-all.sh
```

---

## ğŸ”§ å¸¸è§é—®é¢˜ä¿®å¤

### é—®é¢˜ 1: ccache é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š
```
ccache: error: Failed to create directory /root/.ccache/tmp: Not a directory
```

**ä¿®å¤æ–¹æ³•**ï¼š
```bash
rm -rf ~/.ccache
mkdir -p ~/.ccache
ccache -M 50G
```

---

### é—®é¢˜ 2: æ‰¾ä¸åˆ°ç¼–è¯‘æ—¥å¿—

**å¯èƒ½åŸå› **ï¼š
- ç¼–è¯‘ä»æœªè¿è¡Œè¿‡
- æ—¥å¿—è¢«åˆ é™¤äº†

**è§£å†³æ–¹æ³•**ï¼š
```bash
# é‡æ–°è¿è¡Œç¼–è¯‘
bash ~/android15-utm-ipad-builder/scripts/03-build-android.sh
```

---

### é—®é¢˜ 3: ç¼–è¯‘è¿›ç¨‹å¡ä½

**ç—‡çŠ¶**ï¼š
- è¿›ç¨‹å­˜åœ¨ä½† CPU ä½¿ç”¨ç‡ä¸º 0%
- æ—¥å¿—é•¿æ—¶é—´æ²¡æœ‰æ›´æ–°

**è§£å†³æ–¹æ³•**ï¼š
```bash
# 1. æ‰¾åˆ°è¿›ç¨‹ PID
ps aux | grep ninja

# 2. ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>

# 3. æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
cd ~/android/lineage
rm -rf out
bash ~/android15-utm-ipad-builder/scripts/03-build-android.sh
```

---

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### å®Œæ•´è¾“å‡ºç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“Š Android 15 ç¼–è¯‘çŠ¶æ€æ£€æŸ¥å·¥å…·                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[æ£€æŸ¥] ç¼–è¯‘è¿›ç¨‹...
âœ— æœªå‘ç°ç¼–è¯‘è¿›ç¨‹

[æ£€æŸ¥] ç¼–è¯‘æ—¥å¿—...
âœ“ æœ€æ–°æ—¥å¿—: build_20260127_085011.log
  æœ€åæ›´æ–°: 2026-01-27 09:00:56
  æ—¥å¿—å¤§å°: 15M

[æ—¥å¿—] æœ€å 10 è¡Œ:
----------------------------------------
  ccache: error: Failed to create directory /root/.ccache/tmp
  ninja: build stopped: subcommand failed.
  #### failed to build some targets (10:02 (mm:ss)) ####
  [ERROR] ç¼–è¯‘å¤±è´¥ï¼ï¼ˆé€€å‡ºç : 1ï¼‰
----------------------------------------
âœ— æ£€æµ‹åˆ°ç¼–è¯‘å¤±è´¥

[é”™è¯¯] æœ€åçš„é”™è¯¯ä¿¡æ¯:
----------------------------------------
  ccache: error: Failed to create directory /root/.ccache/tmp: Not a directory
  [ERROR] ç¼–è¯‘å¤±è´¥ï¼ï¼ˆé€€å‡ºç : 1ï¼‰
----------------------------------------

[æ£€æŸ¥] ç¼–è¯‘äº§ç‰©...
? æ‰¾åˆ°éƒ¨åˆ†ç¼–è¯‘äº§ç‰©
  æ–‡ä»¶æ•°é‡: 1234
  ç›®å½•å¤§å°: 5.2G

[æ£€æŸ¥] ä¿å­˜çš„è¿›åº¦çŠ¶æ€...
âœ“ æ‰¾åˆ°ä¿å­˜çš„çŠ¶æ€
  æœ€åå®Œæˆçš„æ­¥éª¤: 2
  ä¸Šæ¬¡è¿è¡Œæ—¶é—´: 2026-01-27 08:50:11

[æ£€æŸ¥] ccache çŠ¶æ€...
âœ“ ccache å·²å®‰è£…

  ccache ç»Ÿè®¡:
    cache size          0.0 GB
    cache hit (direct)  0
    cache miss          0

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ’¡ å»ºè®®æ“ä½œ                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ— ä¸Šæ¬¡ç¼–è¯‘å¤±è´¥
  å»ºè®®:
    1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—: tail -n 50 ~/android/build_20260127_085011.log
    2. ä¿®å¤ ccache: rm -rf ~/.ccache && mkdir -p ~/.ccache && ccache -M 50G
    3. é‡æ–°ç¼–è¯‘: bash ~/android15-utm-ipad-builder/scripts/03-build-android.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å®šæœŸæ£€æŸ¥

åœ¨é•¿æ—¶é—´ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œå®šæœŸè¿è¡ŒçŠ¶æ€æ£€æŸ¥ï¼š

```bash
# æ¯ 5 åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡
watch -n 300 'bash ~/android15-utm-ipad-builder/scripts/check-build-status.sh'
```

### 2. SSH æ–­å¼€åé‡è¿

SSH é‡æ–°è¿æ¥åï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ£€æŸ¥çŠ¶æ€ï¼š

```bash
build-status
```

### 3. ä½¿ç”¨ tmux

é¿å… SSH æ–­å¼€å¯¼è‡´ç¼–è¯‘ä¸­æ–­ï¼š

```bash
# å¯åŠ¨ tmux ä¼šè¯
tmux new -s android-build

# è¿è¡Œç¼–è¯‘
bash ~/android15-utm-ipad-builder/scripts/00-auto-build-all.sh

# åˆ†ç¦»ä¼šè¯: Ctrl+B, ç„¶åæŒ‰ D

# é‡æ–°è¿æ¥
tmux attach -t android-build
```

### 4. ä¿å­˜æ—¥å¿—

å®šæœŸå¤‡ä»½ç¼–è¯‘æ—¥å¿—ï¼š

```bash
# åˆ›å»ºæ—¥å¿—å¤‡ä»½ç›®å½•
mkdir -p ~/android/logs_backup

# å¤åˆ¶æœ€æ–°æ—¥å¿—
cp ~/android/build_*.log ~/android/logs_backup/
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ™ºèƒ½ç¼–è¯‘ç³»ç»ŸæŒ‡å—](SMART_BUILD_GUIDE.md)
- [æ•…éšœæ’æŸ¥æŒ‡å—](TROUBLESHOOTING.md)
- [ç¼–è¯‘æŒ‡å—](BUILD_GUIDE.md)

---

## ğŸ”— å¿«é€Ÿé“¾æ¥

- **GitHub ä»“åº“**: https://github.com/umut0301/android15-utm-ipad-builder
- **è„šæœ¬ä½ç½®**: `scripts/check-build-status.sh`
- **ä½¿ç”¨å‘½ä»¤**: `bash ~/android15-utm-ipad-builder/scripts/check-build-status.sh`

---

**ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-27  
**ç”¨é€”**: SSH æ–­å¼€æˆ–ç³»ç»Ÿé‡å¯åå¿«é€Ÿäº†è§£ç¼–è¯‘çŠ¶æ€
