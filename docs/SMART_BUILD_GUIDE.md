# æ™ºèƒ½ç¼–è¯‘ç³»ç»Ÿä½¿ç”¨æŒ‡å— v2.0

## ğŸŒŸ æ–°åŠŸèƒ½æ¦‚è¿°

Android 15 æ™ºèƒ½è‡ªåŠ¨åŒ–ç¼–è¯‘ç³»ç»Ÿ v2.0 å¼•å…¥äº†ä»¥ä¸‹é©å‘½æ€§åŠŸèƒ½ï¼š

### âœ¨ æ ¸å¿ƒç‰¹æ€§

1. **æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ** ğŸ”
   - è‡ªåŠ¨æ£€æµ‹æ¯ä¸ªæ­¥éª¤çš„å®ŒæˆçŠ¶æ€
   - ç²¾ç¡®è¯„ä¼°å®Œæˆåº¦ç™¾åˆ†æ¯”
   - è¯†åˆ«éƒ¨åˆ†å®Œæˆçš„æ­¥éª¤

2. **æ–­ç‚¹ç»­ä¼ åŠŸèƒ½** ğŸ’¾
   - è‡ªåŠ¨ä¿å­˜ç¼–è¯‘è¿›åº¦
   - ä»ä¸­æ–­å¤„ç»§ç»­æ‰§è¡Œ
   - é¿å…é‡å¤å·¥ä½œ

3. **æ™ºèƒ½å†³ç­–å¼•æ“** ğŸ§ 
   - è‡ªåŠ¨æ¨èèµ·å§‹æ­¥éª¤
   - æä¾›å¤šç§æ‰§è¡Œé€‰é¡¹
   - çµæ´»çš„è‡ªå®šä¹‰æ§åˆ¶

4. **çŠ¶æ€æŒä¹…åŒ–** ğŸ“Š
   - ä¿å­˜è¿›åº¦åˆ°æœ¬åœ°æ–‡ä»¶
   - è®°å½•ä¸Šæ¬¡è¿è¡Œæ—¶é—´
   - æ”¯æŒè¿›åº¦æŸ¥è¯¢å’Œæ¸…é™¤

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# è¿è¡Œæ™ºèƒ½ç¼–è¯‘è„šæœ¬
sudo bash scripts/00-auto-build-all.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æµ‹ç³»ç»ŸçŠ¶æ€
2. åˆ†æå·²å®Œæˆçš„æ­¥éª¤
3. æ¨èèµ·å§‹æ­¥éª¤
4. ç­‰å¾…æ‚¨ç¡®è®¤

---

## ğŸ“‹ æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ

### æ£€æµ‹æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡

è„šæœ¬ä¼šæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

| æ£€æŸ¥é¡¹ | è¯´æ˜ |
|--------|------|
| âœ“ Java | æ˜¯å¦å®‰è£… OpenJDK |
| âœ“ Python | æ˜¯å¦å®‰è£… Python 3 |
| âœ“ repo | æ˜¯å¦å®‰è£… repo å·¥å…· |
| âœ“ Git | æ˜¯å¦é…ç½® Git |
| âœ“ ccache | æ˜¯å¦å®‰è£… ccache |
| âœ“ å·¥ä½œç›®å½• | æ˜¯å¦åˆ›å»ºå·¥ä½œç›®å½• |

**å®Œæˆæ ‡å‡†**: æ‰€æœ‰ 6 é¡¹æ£€æŸ¥é€šè¿‡ï¼ˆ100%ï¼‰

---

### æ£€æµ‹æ­¥éª¤ 2: æºä»£ç åŒæ­¥

è„šæœ¬ä¼šæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

| æ£€æŸ¥é¡¹ | è¯´æ˜ |
|--------|------|
| âœ“ æºä»£ç ç›®å½• | `~/android/lineage` æ˜¯å¦å­˜åœ¨ |
| âœ“ .repo ç›®å½• | æ˜¯å¦åˆå§‹åŒ– repo |
| âœ“ å…³é”®æ–‡ä»¶ | `build/envsetup.sh` æ˜¯å¦å­˜åœ¨ |
| âœ“ æ–‡ä»¶æ•°é‡ | æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ–‡ä»¶ï¼ˆ>50ä¸‡ï¼‰ |

**å®Œæˆæ ‡å‡†**: æ–‡ä»¶æ•°é‡ > 500,000ï¼ˆçº¦ 140 ä¸‡ä¸ºå®Œæ•´æºä»£ç ï¼‰

---

### æ£€æµ‹æ­¥éª¤ 3: ç¼–è¯‘æ„å»º

è„šæœ¬ä¼šæ£€æŸ¥ä»¥ä¸‹ç¼–è¯‘äº§ç‰©ï¼š

| äº§ç‰© | è¯´æ˜ |
|------|------|
| âœ“ system.img | ç³»ç»Ÿé•œåƒ |
| âœ“ vendor.img | ä¾›åº”å•†é•œåƒ |
| âœ“ boot.img | å¯åŠ¨é•œåƒ |
| âœ“ userdata.img | ç”¨æˆ·æ•°æ®é•œåƒ |
| âœ“ ramdisk.img | å†…å­˜ç›˜é•œåƒ |

**å®Œæˆæ ‡å‡†**: è‡³å°‘ 3/5 ä¸ªå…³é”®é•œåƒå­˜åœ¨ï¼ˆ60%ï¼‰

---

### æ£€æµ‹æ­¥éª¤ 4: äº§ç‰©ä¼˜åŒ–

è„šæœ¬ä¼šæ£€æŸ¥ä»¥ä¸‹ä¼˜åŒ–äº§ç‰©ï¼š

| äº§ç‰© | è¯´æ˜ |
|------|------|
| âœ“ *.utm | UTM è™šæ‹ŸæœºåŒ… |
| âœ“ *.zip | å‹ç¼©åŒ… |

**å®Œæˆæ ‡å‡†**: è‡³å°‘å­˜åœ¨ä¸€ç§ä¼˜åŒ–äº§ç‰©

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: é¦–æ¬¡ç¼–è¯‘

```bash
$ sudo bash scripts/00-auto-build-all.sh

ğŸ” æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[DETECT] æ£€æµ‹æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡...
  âœ— Java æœªå®‰è£…
  âœ— Python æœªå®‰è£…
  âœ— repo å·¥å…·æœªå®‰è£…
  âœ— Git æœªé…ç½®
  âœ— ccache æœªå®‰è£…
  âœ— å·¥ä½œç›®å½•æœªåˆ›å»º
æ­¥éª¤ 1 å®Œæˆåº¦: 0/6 (0%)

[INFO] ğŸ“ å»ºè®®ä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆç¯å¢ƒå‡†å¤‡ï¼‰
[INFO] ä¸Šæ¬¡è¿è¡Œ: ä»æœªè¿è¡Œ

ğŸ“‹ æ‰§è¡Œè®¡åˆ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å»ºè®®æ‰§è¡Œçš„æ­¥éª¤:
  [1] ç¯å¢ƒå‡†å¤‡
  [2] æºä»£ç åŒæ­¥
  [3] ç¼–è¯‘æ„å»º
  [4] äº§ç‰©ä¼˜åŒ–

é€‰é¡¹:
  1. æŒ‰å»ºè®®æ‰§è¡Œï¼ˆä»æ­¥éª¤ 1 å¼€å§‹ï¼‰
  2. ä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆå®Œå…¨é‡æ–°å¼€å§‹ï¼‰
  3. è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤
  4. é€€å‡º

è¯·é€‰æ‹© (1/2/3/4) [é»˜è®¤: 1]: 
```

**æ“ä½œ**: æŒ‰ Enter æˆ–è¾“å…¥ `1`ï¼Œä»æ­¥éª¤ 1 å¼€å§‹

---

### åœºæ™¯ 2: ä¸­æ–­åç»§ç»­

å‡è®¾æ‚¨åœ¨æ­¥éª¤ 2ï¼ˆæºä»£ç åŒæ­¥ï¼‰æ—¶ä¸­æ–­äº†ç¼–è¯‘ï¼š

```bash
$ sudo bash scripts/00-auto-build-all.sh

ğŸ” æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[DETECT] æ£€æµ‹æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡...
  âœ“ Java å·²å®‰è£…
  âœ“ Python å·²å®‰è£…
  âœ“ repo å·¥å…·å·²å®‰è£…
  âœ“ Git å·²é…ç½®
  âœ“ ccache å·²å®‰è£…
  âœ“ å·¥ä½œç›®å½•å·²åˆ›å»º
æ­¥éª¤ 1 å®Œæˆåº¦: 6/6 (100%)

[DETECT] æ£€æµ‹æ­¥éª¤ 2: æºä»£ç åŒæ­¥...
  âœ“ æºä»£ç ç›®å½•å­˜åœ¨
  âœ“ æ–‡ä»¶æ•°é‡: 1427428
  âœ“ æºä»£ç åŒæ­¥å®Œæˆ

[DETECT] æ£€æµ‹æ­¥éª¤ 3: ç¼–è¯‘æ„å»º...
  âœ— ç¼–è¯‘è¾“å‡ºç›®å½•ä¸å­˜åœ¨

[INFO] ğŸ“ å»ºè®®ä»æ­¥éª¤ 3 å¼€å§‹ï¼ˆç¼–è¯‘æ„å»ºï¼‰
[INFO] ä¸Šæ¬¡è¿è¡Œ: 2å°æ—¶30åˆ†é’Ÿå‰

ğŸ“‹ æ‰§è¡Œè®¡åˆ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å»ºè®®æ‰§è¡Œçš„æ­¥éª¤:
  [3] ç¼–è¯‘æ„å»º
  [4] äº§ç‰©ä¼˜åŒ–

é€‰é¡¹:
  1. æŒ‰å»ºè®®æ‰§è¡Œï¼ˆä»æ­¥éª¤ 3 å¼€å§‹ï¼‰
  2. ä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆå®Œå…¨é‡æ–°å¼€å§‹ï¼‰
  3. è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤
  4. é€€å‡º

è¯·é€‰æ‹© (1/2/3/4) [é»˜è®¤: 1]: 
```

**æ“ä½œ**: æŒ‰ Enter æˆ–è¾“å…¥ `1`ï¼Œä»æ­¥éª¤ 3 ç»§ç»­

---

### åœºæ™¯ 3: ç¼–è¯‘å®Œæˆåé‡æ–°ç¼–è¯‘

```bash
$ sudo bash scripts/00-auto-build-all.sh

ğŸ” æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[DETECT] æ£€æµ‹æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡...
æ­¥éª¤ 1 å®Œæˆåº¦: 6/6 (100%)

[DETECT] æ£€æµ‹æ­¥éª¤ 2: æºä»£ç åŒæ­¥...
  âœ“ æºä»£ç åŒæ­¥å®Œæˆ

[DETECT] æ£€æµ‹æ­¥éª¤ 3: ç¼–è¯‘æ„å»º...
  âœ“ system.img å­˜åœ¨
  âœ“ vendor.img å­˜åœ¨
  âœ“ boot.img å­˜åœ¨
  âœ“ userdata.img å­˜åœ¨
  âœ“ ramdisk.img å­˜åœ¨
æ­¥éª¤ 3 å®Œæˆåº¦: 5/5 (100%)
  âœ“ ç¼–è¯‘åŸºæœ¬å®Œæˆ

[DETECT] æ£€æµ‹æ­¥éª¤ 4: äº§ç‰©ä¼˜åŒ–...
  âœ“ UTM è™šæ‹ŸæœºåŒ…å·²åˆ›å»º

[SUCCESS] âœ… æ‰€æœ‰æ­¥éª¤å·²å®Œæˆï¼

ğŸ“‹ æ‰§è¡Œè®¡åˆ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å¯é€‰æ“ä½œ:
  1. é€€å‡ºï¼ˆé»˜è®¤ï¼‰
  2. é‡æ–°ç¼–è¯‘ï¼ˆæ¸…ç†å¹¶ä»æ­¥éª¤ 3 å¼€å§‹ï¼‰
  3. å®Œå…¨é‡æ–°å¼€å§‹ï¼ˆä»æ­¥éª¤ 1 å¼€å§‹ï¼‰

è¯·é€‰æ‹© (1/2/3) [é»˜è®¤: 1]: 
```

**æ“ä½œ**: 
- è¾“å…¥ `1` æˆ– Enter: é€€å‡º
- è¾“å…¥ `2`: æ¸…ç†ç¼–è¯‘äº§ç‰©å¹¶é‡æ–°ç¼–è¯‘
- è¾“å…¥ `3`: å®Œå…¨é‡æ–°å¼€å§‹

---

### åœºæ™¯ 4: è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤

```bash
ğŸ“‹ æ‰§è¡Œè®¡åˆ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å»ºè®®æ‰§è¡Œçš„æ­¥éª¤:
  [2] æºä»£ç åŒæ­¥
  [3] ç¼–è¯‘æ„å»º
  [4] äº§ç‰©ä¼˜åŒ–

é€‰é¡¹:
  1. æŒ‰å»ºè®®æ‰§è¡Œï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰
  2. ä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆå®Œå…¨é‡æ–°å¼€å§‹ï¼‰
  3. è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤
  4. é€€å‡º

è¯·é€‰æ‹© (1/2/3/4) [é»˜è®¤: 1]: 3

è¯·è¾“å…¥èµ·å§‹æ­¥éª¤ (1-4): 3
[INFO] å°†ä»æ­¥éª¤ 3 å¼€å§‹
```

**æ“ä½œ**: è¾“å…¥ `3` é€‰æ‹©è‡ªå®šä¹‰ï¼Œç„¶åè¾“å…¥æƒ³è¦çš„æ­¥éª¤ç¼–å·

---

## ğŸ’¾ è¿›åº¦ç®¡ç†

### è¿›åº¦æ–‡ä»¶ä½ç½®

```
$HOME/android/.build_state/
â”œâ”€â”€ progress.state       # å½“å‰è¿›åº¦ï¼ˆæ­¥éª¤ç¼–å·ï¼‰
â””â”€â”€ timestamps.state     # ä¸Šæ¬¡è¿è¡Œæ—¶é—´æˆ³
```

### æ‰‹åŠ¨æŸ¥çœ‹è¿›åº¦

```bash
# æŸ¥çœ‹å½“å‰è¿›åº¦
cat ~/android/.build_state/progress.state

# æŸ¥çœ‹ä¸Šæ¬¡è¿è¡Œæ—¶é—´
date -d @$(cat ~/android/.build_state/timestamps.state)
```

### æ‰‹åŠ¨æ¸…é™¤è¿›åº¦

```bash
# æ¸…é™¤è¿›åº¦æ–‡ä»¶
rm -rf ~/android/.build_state/

# æˆ–è€…åœ¨è„šæœ¬ä¸­é€‰æ‹©"å®Œå…¨é‡æ–°å¼€å§‹"
```

---

## ğŸ”§ é«˜çº§ç”¨æ³•

### è·³è¿‡æŸä¸ªæ­¥éª¤

å¦‚æœæ‚¨æƒ³è·³è¿‡æŸä¸ªæ­¥éª¤ï¼ˆä¾‹å¦‚å·²ç»æ‰‹åŠ¨å®Œæˆï¼‰ï¼Œå¯ä»¥ï¼š

1. è¿è¡Œè„šæœ¬
2. é€‰æ‹©"è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤"
3. è¾“å…¥è¦è·³è¿‡çš„æ­¥éª¤ä¹‹åçš„ç¼–å·

ä¾‹å¦‚ï¼Œè·³è¿‡æ­¥éª¤ 2ï¼š
```bash
è¯·é€‰æ‹© (1/2/3/4) [é»˜è®¤: 1]: 3
è¯·è¾“å…¥èµ·å§‹æ­¥éª¤ (1-4): 3
```

---

### å¼ºåˆ¶é‡æ–°æ‰§è¡ŒæŸä¸ªæ­¥éª¤

å¦‚æœæŸä¸ªæ­¥éª¤å¤±è´¥æˆ–éœ€è¦é‡æ–°æ‰§è¡Œï¼š

1. è¿è¡Œè„šæœ¬
2. é€‰æ‹©"è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤"
3. è¾“å…¥è¯¥æ­¥éª¤çš„ç¼–å·

ä¾‹å¦‚ï¼Œé‡æ–°æ‰§è¡Œæ­¥éª¤ 3ï¼ˆç¼–è¯‘ï¼‰ï¼š
```bash
è¯·é€‰æ‹© (1/2/3/4) [é»˜è®¤: 1]: 3
è¯·è¾“å…¥èµ·å§‹æ­¥éª¤ (1-4): 3
```

---

### ä»…æ‰§è¡Œå•ä¸ªæ­¥éª¤

å¦‚æœåªæƒ³æ‰§è¡ŒæŸä¸ªæ­¥éª¤ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œå¯¹åº”çš„è„šæœ¬ï¼š

```bash
# ä»…ç¯å¢ƒå‡†å¤‡
sudo bash scripts/01-setup-build-env.sh

# ä»…æºä»£ç åŒæ­¥
bash scripts/02-sync-source.sh

# ä»…ç¼–è¯‘
bash scripts/03-build-android.sh

# ä»…ä¼˜åŒ–
bash scripts/04-optimize-output.sh
```

---

## ğŸ“Š æ£€æµ‹é€»è¾‘è¯¦è§£

### æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡

```bash
# æ£€æŸ¥ Java
command -v java &> /dev/null

# æ£€æŸ¥ Python
command -v python3 &> /dev/null

# æ£€æŸ¥ repo
[[ -f "$HOME/bin/repo" ]]

# æ£€æŸ¥ Git é…ç½®
git config --global user.email &> /dev/null

# æ£€æŸ¥ ccache
command -v ccache &> /dev/null

# æ£€æŸ¥å·¥ä½œç›®å½•
[[ -d "$HOME/android" ]]
```

**å®Œæˆæ ‡å‡†**: æ‰€æœ‰ 6 é¡¹æ£€æŸ¥é€šè¿‡

---

### æ­¥éª¤ 2: æºä»£ç åŒæ­¥

```bash
# æ£€æŸ¥æºä»£ç ç›®å½•
[[ -d "$HOME/android/lineage" ]]

# æ£€æŸ¥ .repo ç›®å½•
[[ -d "$HOME/android/lineage/.repo" ]]

# æ£€æŸ¥å…³é”®æ–‡ä»¶
[[ -f "$HOME/android/lineage/build/envsetup.sh" ]]

# ç»Ÿè®¡æ–‡ä»¶æ•°é‡
file_count=$(find "$HOME/android/lineage" -type f 2>/dev/null | wc -l)

# æ£€æŸ¥æ–‡ä»¶æ•°é‡
[[ $file_count -gt 500000 ]]
```

**å®Œæˆæ ‡å‡†**: æ–‡ä»¶æ•°é‡ > 500,000

**è¯´æ˜**: å®Œæ•´çš„ LineageOS 23.0 æºä»£ç çº¦æœ‰ 140 ä¸‡ä¸ªæ–‡ä»¶

---

### æ­¥éª¤ 3: ç¼–è¯‘æ„å»º

```bash
# æ£€æŸ¥ç¼–è¯‘è¾“å‡ºç›®å½•
out_dir="$HOME/android/lineage/out/target/product/virtio_arm64"
[[ -d "$out_dir" ]]

# æ£€æŸ¥å…³é”®é•œåƒ
[[ -f "$out_dir/system.img" ]]
[[ -f "$out_dir/vendor.img" ]]
[[ -f "$out_dir/boot.img" ]]
[[ -f "$out_dir/userdata.img" ]]
[[ -f "$out_dir/ramdisk.img" ]]
```

**å®Œæˆæ ‡å‡†**: è‡³å°‘ 3/5 ä¸ªå…³é”®é•œåƒå­˜åœ¨ï¼ˆ60%ï¼‰

**è¯´æ˜**: 
- 5/5 = 100%: ç¼–è¯‘å®Œå…¨æˆåŠŸ
- 3/5 = 60%: ç¼–è¯‘åŸºæœ¬å®Œæˆ
- <3/5: ç¼–è¯‘æœªå®Œæˆæˆ–å¤±è´¥

---

### æ­¥éª¤ 4: äº§ç‰©ä¼˜åŒ–

```bash
# æ£€æŸ¥ UTM åŒ…
ls "$out_dir"/*.utm 2>/dev/null | grep -q .

# æ£€æŸ¥å‹ç¼©åŒ…
ls "$out_dir"/*.zip 2>/dev/null | grep -q .
```

**å®Œæˆæ ‡å‡†**: è‡³å°‘å­˜åœ¨ä¸€ç§ä¼˜åŒ–äº§ç‰©

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å®šæœŸä¿å­˜è¿›åº¦

è„šæœ¬ä¼šåœ¨æ¯ä¸ªæ­¥éª¤å®Œæˆåè‡ªåŠ¨ä¿å­˜è¿›åº¦ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚

### 2. ä¸­æ–­åç«‹å³ç»§ç»­

å¦‚æœç¼–è¯‘è¢«ä¸­æ–­ï¼ˆå¦‚ SSH æ–­å¼€ã€ç³»ç»Ÿé‡å¯ï¼‰ï¼Œé‡æ–°è¿è¡Œè„šæœ¬å³å¯è‡ªåŠ¨ç»§ç»­ï¼š

```bash
sudo bash scripts/00-auto-build-all.sh
```

### 3. ä½¿ç”¨ tmux é¿å…ä¸­æ–­

```bash
# å®‰è£… tmux
sudo apt install tmux

# åˆ›å»ºä¼šè¯
tmux new -s android-build

# è¿è¡Œè„šæœ¬
sudo bash scripts/00-auto-build-all.sh

# åˆ†ç¦»ä¼šè¯: Ctrl+B, ç„¶åæŒ‰ D
# é‡æ–°è¿æ¥: tmux attach -t android-build
```

### 4. ç›‘æ§ç¼–è¯‘è¿›åº¦

```bash
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯æŸ¥çœ‹æ—¥å¿—
tail -f ~/android/logs/auto_build_*.log

# æŸ¥çœ‹ç¼–è¯‘è¾“å‡º
tail -f ~/android/build_*.log
```

### 5. æ£€æŸ¥ç£ç›˜ç©ºé—´

```bash
# ç¼–è¯‘å‰æ£€æŸ¥
df -h ~

# ç¼–è¯‘ä¸­ç›‘æ§
watch -n 60 'df -h ~'
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ£€æµ‹ä¸å‡†ç¡®

**ç—‡çŠ¶**: è„šæœ¬è®¤ä¸ºæŸä¸ªæ­¥éª¤å·²å®Œæˆï¼Œä½†å®é™…æœªå®Œæˆ

**è§£å†³æ–¹æ¡ˆ**:
1. é€‰æ‹©"è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤"
2. æ‰‹åŠ¨æŒ‡å®šæ­£ç¡®çš„èµ·å§‹æ­¥éª¤

æˆ–è€…ï¼š
```bash
# æ¸…é™¤è¿›åº¦å¹¶é‡æ–°å¼€å§‹
rm -rf ~/android/.build_state/
sudo bash scripts/00-auto-build-all.sh
```

---

### é—®é¢˜ 2: è¿›åº¦æ–‡ä»¶æŸå

**ç—‡çŠ¶**: è„šæœ¬æ— æ³•è¯»å–è¿›åº¦

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åˆ é™¤è¿›åº¦æ–‡ä»¶
rm -rf ~/android/.build_state/

# é‡æ–°è¿è¡Œ
sudo bash scripts/00-auto-build-all.sh
```

---

### é—®é¢˜ 3: æƒ³è¦å®Œå…¨é‡æ–°å¼€å§‹

**è§£å†³æ–¹æ¡ˆ 1**: åœ¨è„šæœ¬ä¸­é€‰æ‹©
```
é€‰é¡¹:
  1. æŒ‰å»ºè®®æ‰§è¡Œï¼ˆä»æ­¥éª¤ X å¼€å§‹ï¼‰
  2. ä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆå®Œå…¨é‡æ–°å¼€å§‹ï¼‰  â† é€‰æ‹©è¿™ä¸ª
  3. è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤
  4. é€€å‡º
```

**è§£å†³æ–¹æ¡ˆ 2**: æ‰‹åŠ¨æ¸…ç†
```bash
# æ¸…é™¤è¿›åº¦
rm -rf ~/android/.build_state/

# æ¸…é™¤æºä»£ç ï¼ˆå¯é€‰ï¼‰
rm -rf ~/android/lineage/

# æ¸…é™¤ç¼–è¯‘äº§ç‰©ï¼ˆå¯é€‰ï¼‰
rm -rf ~/android/lineage/out/

# é‡æ–°è¿è¡Œ
sudo bash scripts/00-auto-build-all.sh
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. ä½¿ç”¨ SSD

ç¡®ä¿å·¥ä½œç›®å½•åœ¨ SSD ä¸Šï¼š
```bash
df -h ~/android
```

### 2. å¢åŠ  ccache å¤§å°

```bash
ccache -M 100G  # å¢åŠ åˆ° 100GB
```

### 3. è°ƒæ•´ç¼–è¯‘çº¿ç¨‹æ•°

ç¼–è¾‘ `scripts/03-build-android.sh`ï¼š
```bash
# é»˜è®¤ä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒ
JOBS=$(nproc)

# æ‰‹åŠ¨æŒ‡å®šï¼ˆä¾‹å¦‚ 16 æ ¸ï¼‰
JOBS=16
```

---

## ğŸ”„ ç‰ˆæœ¬å¯¹æ¯”

### v1.0 vs v2.0

| ç‰¹æ€§ | v1.0 | v2.0 |
|------|------|------|
| è‡ªåŠ¨æ‰§è¡Œ | âœ… | âœ… |
| é”™è¯¯å¤„ç† | âœ… | âœ… |
| æ™ºèƒ½æ£€æµ‹ | âŒ | âœ… |
| æ–­ç‚¹ç»­ä¼  | âŒ | âœ… |
| è¿›åº¦ä¿å­˜ | âŒ | âœ… |
| è‡ªå®šä¹‰èµ·å§‹æ­¥éª¤ | âŒ | âœ… |
| å®Œæˆåº¦è¯„ä¼° | âŒ | âœ… |
| ä¸Šæ¬¡è¿è¡Œæ—¶é—´ | âŒ | âœ… |

### å¦‚ä½•ä½¿ç”¨ v1.0ï¼ˆæ—§ç‰ˆæœ¬ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨æ—§ç‰ˆæœ¬ï¼š
```bash
bash scripts/00-auto-build-all-v1.sh
```

---

## ğŸ“ æ€»ç»“

æ™ºèƒ½ç¼–è¯‘ç³»ç»Ÿ v2.0 çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š

1. **èŠ‚çœæ—¶é—´**: è‡ªåŠ¨è·³è¿‡å·²å®Œæˆçš„æ­¥éª¤
2. **å®¹é”™æ€§å¼º**: ä¸­æ–­åå¯ä»¥ç»§ç»­ï¼Œä¸éœ€è¦é‡æ–°å¼€å§‹
3. **çµæ´»æ§åˆ¶**: æ”¯æŒè‡ªå®šä¹‰èµ·å§‹æ­¥éª¤
4. **çŠ¶æ€å¯è§**: æ¸…æ™°æ˜¾ç¤ºæ¯ä¸ªæ­¥éª¤çš„å®ŒæˆçŠ¶æ€
5. **æ™ºèƒ½æ¨è**: è‡ªåŠ¨åˆ†æå¹¶æ¨èæœ€ä½³æ‰§è¡Œæ–¹æ¡ˆ

**æ¨èä½¿ç”¨åœºæ™¯**:
- âœ… é•¿æ—¶é—´ç¼–è¯‘ä»»åŠ¡
- âœ… ç½‘ç»œä¸ç¨³å®šç¯å¢ƒ
- âœ… éœ€è¦å¤šæ¬¡ä¸­æ–­å’Œç»§ç»­
- âœ… è°ƒè¯•å’Œæµ‹è¯•ç¼–è¯‘æµç¨‹

**ç«‹å³å¼€å§‹**:
```bash
cd ~/android15-utm-ipad-builder
git pull
sudo bash scripts/00-auto-build-all.sh
```

ç¥æ‚¨ç¼–è¯‘é¡ºåˆ©ï¼ğŸš€
